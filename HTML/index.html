<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    <link rel="stylesheet" href="style.css" />
    <script src="./script.js" type="module" defer></script>
</head>

<body>
    <div id="calculator">
        <div class="screen">
            <input type="text" id="display" readonly />
        </div>
        <div class="buttons">
            <div class="digits">
                <div class="row-1">
                    <button id="btn-1" class="digit" data-value="1">1</button>
                    <button id="btn-2" class="digit" data-value="2">2</button>
                    <button id="btn-3" class="digit" data-value="3">3</button>
                    <button id="btn-plus" class="operator" data-op="+">+</button>
                </div>
                <div class="row-2">
                    <button id="btn-4" class="digit" data-value="4">4</button>
                    <button id="btn-5" class="digit" data-value="5">5</button>
                    <button id="btn-6" class="digit" data-value="6">6</button>
                    <button id="btn-minus" class="operator" data-op="-">-</button>
                </div>
                <div class="row-3">
                    <button id="btn-7" class="digit" data-value="7">7</button>
                    <button id="btn-8" class="digit" data-value="8">8</button>
                    <button id="btn-9" class="digit" data-value="9">9</button>
                    <button id="btn-multypl" class="operator" data-op="*">*</button>
                </div>
                <div class="row-0">
                    <button id="btn-0" class="digit" data-value="0">0</button>
                    <button id="btn-decimal" class="decimal" data-value=".">.</button>
                    <button id="btn-result" class="calculate">=</button>
                    <button id="btn-divide" class="operator" data-op="/">/</button>
                </div>
            </div>

            <div class="row-5">
                <button id="btn-sqrt" class="sqrt">√</button>
                <button id="btn-percent" class="percent">%</button>
                <button id="btn-clear" class="clear">C</button>
                <button id="btn-delete" class="delete">←</button>
            </div>
        </div>
    </div>

    <script>console.log("Calculator run")
const display = document.getElementById('display');

for (let index = 0; index < 10; index++) {
    const element = document.getElementById(`btn-${index}`);
    element.addEventListener("click", () => myFunction(index))
}
const btnDel = document.getElementById(`btn-delete`);
btnDel.addEventListener("click", () => backspase(btnDel.textContent));

const btnClear = document.getElementById(`btn-clear`);
btnClear.addEventListener("click", () => clearDisplay(btnClear.textContent0));

const btnPercent = document.getElementById(`btn-percent`);
btnPercent.addEventListener("click", () => parcent(btnPercent.textContent));

const btnSqrt = document.getElementById(`btn-sqrt`);
btnSqrt.addEventListener("click", () => sqrt(btnSqrt.textContent));

// const btnDivide = document.getElementById(`btn-divide`);
// btnDivide.addEventListener("click", () => myFunction(btnDivide.textContent));

const btnDResult = document.getElementById(`btn-result`);
btnDResult.addEventListener("click", () => calculate(btnDResult.textContent));

const btnDecimal = document.getElementById(`btn-decimal`);
btnDecimal.addEventListener("click", () => myFunction(btnDecimal.textContent));

// const btnPlus = document.getElementById(`btn-plus`);
// btnPlus.addEventListener("click", () => myFunction(btnPlus.textContent));

// const btnMinus= document.getElementById(`btn-minus`);
// btnMinus.addEventListener("click", () => myFunction(btnMinus.));

// const btnMultyPl = document.getElementById(`btn-multypl`);
// btnMultyPl.addEventListener("click", () => myFunction(btnMultyPl.textContent));

document.querySelectorAll('[data-op]').forEach(btn => {
    btn.addEventListener('click', () => {
        const operator = btn.getAttribute('data-op');
        display.value += operator;
    });
});

function myFunction(value) {
    console.log(value);
    display.value += value;
}
function calculate() {

    try {
        display.value = eval(display.value);
    } catch {
        display.value = 'Error'
    }
}
function clearDisplay() {
    display.value = '';
}
function backspase() {
    display.value = display.value.slice(0, -1)
}

function square() {
    const value = parseFloat(display.value);
    if (!isNaN(value)) {
        display.value = Math.square(value, 2);
    } else {
        display.value = 'Error'
    }
}

function sqrt() {
    const value = parseFloat(display.value);
    if (!isNaN(value)) {
        display.value = Math.sqrt(value);
    } else {
        display.value = 'Error'
    }
}
function parcent() {
    const value = parseFloat(display.value);
    if (!isNaN(value)) {
        display.value = value / 100;
    } else {
        display.value = 'Error'
    }

}
    </script>
    <css>
 body {
    display: flex;
    text-align: center;
    justify-content: center;
    height: 230px;
    width: 30%;
    background-color: #f0f0f0;
}

.calculator {
    background-color: #d4d4d4;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px #000100;
    
}
#display{
    width: 80%;
    height: 55px;
    font-size: 30px;
    margin-bottom: 10px;
    text-align: right;
    padding: 5px;
}

button{
    width: 60px;
    height: 60px;
    margin: 5px;
    font-size: 20px;
    border: 2px solid black;
    padding: 5px;
    border-radius: 10px;
    background-color: white;
    cursor: pointer;
}
button:hover{
    background-color: #e0e0e0;
}
    </css>
  
</body>
</html>
